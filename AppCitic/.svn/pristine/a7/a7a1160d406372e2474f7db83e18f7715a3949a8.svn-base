<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"/>
    <title>会员注册</title>
    <meta name="keywords" content=""/>
    <meta name="description" content=""/>
    <script src="js/rem.js"></script> 
    <script src="js/jquery.min.js" type="text/javascript"></script>
    <link rel="stylesheet" type="text/css" href="css/base.css"/>
    <link rel="stylesheet" type="text/css" href="css/page.css"/>
    <link rel="stylesheet" type="text/css" href="css/all.css"/>
    <link rel="stylesheet" type="text/css" href="css/mui.min.css"/>
    <link rel="stylesheet" type="text/css" href="css/loaders.min.css"/>
    <link rel="stylesheet" type="text/css" href="css/loading.css"/>
    <link rel="stylesheet" type="text/css" href="slick/slick.css"/>
<script type="text/javascript">
	$(window).load(function(){
		$(".loading").addClass("loader-chanage")
		$(".loading").fadeOut(300)
	});
	/*<![CDATA[*/    
	$(function (){
		$("#regMember").click(function (){
		 var phone=$("#phone").val(); 
		 var membPwd=$("#membPwd").val();  
		 var surePwd=$("#surePwd").val();  
		 var cardNum=$("#cardNum").val(); 
		 var validateCode=$("#validateCode").val(); 
		 if(!phone){
		   $("#errorinfo").html("电话号码不能为空");
		 } else if(!membPwd && !surePwd){
		   $("#errorinfo").html("密码不能为空");
		 } else if(membPwd!=surePwd){
		   $("#errorinfo").html("两次密码不一致");
		 } else if(!cardNum){
		   $("#errorinfo").html("身份证不能为空");
		 }else{
			$.ajax({  
	                type:"POST", //请求方式 
	                url:"/reg",
	                dataType:"json", //返回数据类型
	                 data:{//请求参数
	               		phone:phone,
	               		membPwd:membPwd,
	               		cardNum:cardNum,
	               		validateCode:validateCode
	                },
	                success:function(res){ //请求成功后 200
	                	if(!!res){
		                	if(res=='1'){//注册成功
		                	  window.location.href="/tologin";
		                	}else if(res=='0'){//注册失败
		                	      alert("注册失败！");
		                	}else if(res=='-1'){//注册失败
		                	      alert("验证码错误！");
		                	}else{
		                	}
	                	}
	                },
	                error:function (){//500 400
	                	alert("系统出现异常！");
	                }    
	         });
		 } 
		
	         
	         
		});
	});
	/*]]>*/
</script>
</head>
<!--loading页开始-->
<div class="loading">
	<div class="loader">
        <div class="loader-inner pacman">
          <div></div>
          <div></div>
          <div></div>
          <div></div>
          <div></div>
        </div>
	</div>
</div>
<!--loading页结束-->
	<body>
		<div class="login clearfloat box-s">
			<h3>会员注册</h3>
			<div class="list clearfloat">
			<ul>
				<li  style="color:red" id="errorinfo"></li></ul>
				<ul>
				<li class="ra3">
						<p class="fl clearfloat">
							<span class="opa5"></span>
							<i class="iconfont icon-shouji"></i>
						</p>
						<div class="nr clearfloat fl">
							<span class="opa3"></span>
							<input type="text" name="phone" id="phone" value="" maxlength="11" placeholder="手机号码" />
						</div>
					</li>
					
					
					<li class="ra3">
						<p class="fl clearfloat">
							<span class="opa5"></span>
							<i class="iconfont icon-mima"></i>
						</p>
						<div class="nr clearfloat fl">
							<span class="opa3"></span>
							<input type="password" name="membPwd" id="membPwd" value="" placeholder="登录密码" maxlength="20"/>
						</div>
					</li>
					<li class="ra3">
						<p class="fl clearfloat">
							<span class="opa5"></span>
							<i class="iconfont icon-mima"></i>
						</p>
						<div class="nr clearfloat fl">
							<span class="opa3"></span>
							<input type="password" name="surePwd" id="surePwd" value="" placeholder="确认密码" maxlength="20"/>
						</div>
					</li>
					
					<li class="ra3">
						<p class="fl clearfloat">
							<span class="opa5"></span>
							<i class="iconfont icon-shenfenzheng"></i>
						</p>
						<div class="nr clearfloat fl">
							<span class="opa3"></span>
							<input type="text" name="cardNum" id="cardNum" value="" placeholder="身份证号" maxlength="18"/>
						</div>
					</li>
					
					<li class="ra3">
						<p class="fl clearfloat">
							<span class="opa5"></span>
							<i class="iconfont icon-yanzhengma"></i>
						</p>
						<div class="nr nrtwo clearfloat fl">
							<span class="opa3"></span>
							<input type="text" name="validateCode" id="validateCode" value="" placeholder="验证码" maxlength="4" />
							<span style="width:130px;height:50px;">
								<img id="vdimgck" src="/image.jsp?d=" alt="看不清？点击更换" align="absmiddle"  style="cursor:pointer; width: 122px; height: 45px" onclick="this.src=this.src+'?'" />
							</span>
						</div>
					</li>
				</ul>
			</div>			
			<div class="login-btn">
				<a href="###" id="regMember">
					注册
				</a>
			</div>
			<div class="mima mimaone clearfloat">
				<ul>
					<li class="fr">
						<a href="/tologin">立即登录</a>
					</li>
				</ul>
			</div>
		</div>
	</body>
</html>
